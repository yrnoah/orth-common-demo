{"version":3,"file":"Dropdown-82bc9635.js","sources":["../../../../node_modules/react-use/esm/useClickAway.js","../../../../node_modules/react-use/esm/useEffectOnce.js","../../../../node_modules/react-use/esm/useUnmount.js","../../../../node_modules/react-use/esm/useRafState.js","../../../../node_modules/react-use/esm/useMouseWheel.js","../../../../node_modules/react-use/esm/useScroll.js","../../../../node_modules/react-use/esm/useWindowScroll.js","../../../paas-library/src/Dropdown/useDropdownPosition.ts","../../../paas-library/src/utils/isChildrenElement.ts","../../../paas-library/src/Dropdown/Dropdown.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { off, on } from './misc/util';\nvar defaultEvents = ['mousedown', 'touchstart'];\nvar useClickAway = function (ref, onClickAway, events) {\n    if (events === void 0) { events = defaultEvents; }\n    var savedCallback = useRef(onClickAway);\n    useEffect(function () {\n        savedCallback.current = onClickAway;\n    }, [onClickAway]);\n    useEffect(function () {\n        var handler = function (event) {\n            var el = ref.current;\n            el && !el.contains(event.target) && savedCallback.current(event);\n        };\n        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n            var eventName = events_1[_i];\n            on(document, eventName, handler);\n        }\n        return function () {\n            for (var _i = 0, events_2 = events; _i < events_2.length; _i++) {\n                var eventName = events_2[_i];\n                off(document, eventName, handler);\n            }\n        };\n    }, [events, ref]);\n};\nexport default useClickAway;\n","import { useEffect } from 'react';\nvar useEffectOnce = function (effect) {\n    useEffect(effect, []);\n};\nexport default useEffectOnce;\n","import { useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmount = function (fn) {\n    var fnRef = useRef(fn);\n    // update the ref each render so if it change the newest callback will be invoked\n    fnRef.current = fn;\n    useEffectOnce(function () { return function () { return fnRef.current(); }; });\n};\nexport default useUnmount;\n","import { useCallback, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\nvar useRafState = function (initialState) {\n    var frame = useRef(0);\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var setRafState = useCallback(function (value) {\n        cancelAnimationFrame(frame.current);\n        frame.current = requestAnimationFrame(function () {\n            setState(value);\n        });\n    }, []);\n    useUnmount(function () {\n        cancelAnimationFrame(frame.current);\n    });\n    return [state, setRafState];\n};\nexport default useRafState;\n","import { useEffect, useState } from 'react';\nimport { off, on } from './misc/util';\nexport default (function () {\n    var _a = useState(0), mouseWheelScrolled = _a[0], setMouseWheelScrolled = _a[1];\n    useEffect(function () {\n        var updateScroll = function (e) {\n            setMouseWheelScrolled(e.deltaY + mouseWheelScrolled);\n        };\n        on(window, 'wheel', updateScroll, false);\n        return function () { return off(window, 'wheel', updateScroll); };\n    });\n    return mouseWheelScrolled;\n});\n","import { useEffect } from 'react';\nimport useRafState from './useRafState';\nimport { off, on } from './misc/util';\nvar useScroll = function (ref) {\n    if (process.env.NODE_ENV === 'development') {\n        if (typeof ref !== 'object' || typeof ref.current === 'undefined') {\n            console.error('`useScroll` expects a single ref argument.');\n        }\n    }\n    var _a = useRafState({\n        x: 0,\n        y: 0,\n    }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handler = function () {\n            if (ref.current) {\n                setState({\n                    x: ref.current.scrollLeft,\n                    y: ref.current.scrollTop,\n                });\n            }\n        };\n        if (ref.current) {\n            on(ref.current, 'scroll', handler, {\n                capture: false,\n                passive: true,\n            });\n        }\n        return function () {\n            if (ref.current) {\n                off(ref.current, 'scroll', handler);\n            }\n        };\n    }, [ref]);\n    return state;\n};\nexport default useScroll;\n","import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nimport useRafState from './useRafState';\nvar useWindowScroll = function () {\n    var _a = useRafState(function () { return ({\n        x: isBrowser ? window.pageXOffset : 0,\n        y: isBrowser ? window.pageYOffset : 0,\n    }); }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handler = function () {\n            setState(function (state) {\n                var pageXOffset = window.pageXOffset, pageYOffset = window.pageYOffset;\n                //Check state for change, return same state if no change happened to prevent rerender\n                //(see useState/setState documentation). useState/setState is used internally in useRafState/setState.\n                return state.x !== pageXOffset || state.y !== pageYOffset\n                    ? {\n                        x: pageXOffset,\n                        y: pageYOffset,\n                    }\n                    : state;\n            });\n        };\n        //We have to update window scroll at mount, before subscription.\n        //Window scroll may be changed between render and effect handler.\n        handler();\n        on(window, 'scroll', handler, {\n            capture: false,\n            passive: true,\n        });\n        return function () {\n            off(window, 'scroll', handler);\n        };\n    }, []);\n    return state;\n};\nexport default useWindowScroll;\n","import { useEffect, useState, useCallback, useRef } from \"react\";\nimport { useRafState } from \"react-use\";\nimport useCurrent from \"../hooks/useCurrent\";\n\nexport type TDropdownPosition =\n  | \"top-left\"\n  | \"top-right\"\n  | \"bottom-left\"\n  | \"bottom-right\"\n  | \"top\"\n  | \"bottom\"\n  | \"left-top\"\n  | \"left\"\n  | \"left-bottom\"\n  | \"right-top\"\n  | \"right\"\n  | \"right-bottom\"\n  | \"auto\"\n  | undefined;\n\nexport function useDropdownPosition<T = HTMLDivElement>(\n  overlayHeight: number = 300,\n  overlayWidth: number = 0,\n  offsetHeight: number = 40,\n  persistDown: boolean = false,\n  position?: TDropdownPosition,\n  fitToTrigger: boolean = false\n) {\n  const ref = useRef<T>(null);\n  const [top, setTop] = useRafState(0);\n  const [left, setLeft] = useRafState(0);\n  const [width, setWidth] = useState(120);\n  const [height, setHeight] = useState(offsetHeight);\n  const [isTop, setISTop] = useState(() => {\n    switch (position) {\n      default:\n        return false;\n      case \"top\":\n      case \"top-left\":\n      case \"top-right\":\n        return true;\n    }\n  });\n\n  const [placement, setPlacement] = useState<\"vertical\" | \"horizontal\">(() => {\n    switch (position) {\n      case \"left-top\":\n      case \"left\":\n      case \"left-bottom\":\n      case \"right-top\":\n      case \"right\":\n      case \"right-bottom\":\n        return \"horizontal\";\n      default:\n        return \"vertical\";\n    }\n  });\n  const updateRect = useCallback(\n    (data: DOMRect, targetHeight: number = 300) => {\n      const triggerHeight = fitToTrigger ? 0 : height;\n      setWidth(data.width);\n      if (data.height) setHeight(data.height);\n      const optionWidth = overlayWidth || data.width;\n      const diff = window.innerHeight - data.bottom;\n      const shouldPositionRight =\n        data.left + optionWidth - window.innerWidth > 0 && optionWidth > 0;\n      let shouldTop = diff < targetHeight;\n      if (\n        persistDown ||\n        position === \"bottom\" ||\n        position === \"bottom-left\" ||\n        position === \"bottom-right\"\n      ) {\n        shouldTop = false;\n      }\n      if (\n        position === \"top\" ||\n        position === \"top-left\" ||\n        position === \"top-right\"\n      ) {\n        shouldTop = true;\n      }\n      if (data.top < targetHeight) shouldTop = false;\n      // set to bottom\n      if (data.top !== top && !shouldTop) {\n        let setToBottomValue = (data.top || 0) + triggerHeight;\n        /** @description move overlay upon view bottom */\n        if (\n          fitToTrigger &&\n          setToBottomValue + overlayHeight > window.innerHeight\n        ) {\n          setToBottomValue = window.innerHeight - overlayHeight - height;\n        }\n        setTop(setToBottomValue);\n      }\n      // set to top\n      if (shouldTop && top !== data.top - targetHeight) {\n        let setToTopValue = data.top - targetHeight;\n        if (fitToTrigger) setToTopValue = setToTopValue + height;\n        setTop(setToTopValue);\n      }\n      // Handle horizontal placements (left/right variants)\n      if (\n        position?.startsWith(\"left-\") ||\n        position === \"left\" ||\n        position?.startsWith(\"right-\") ||\n        position === \"right\"\n      ) {\n        const isRight = position?.startsWith(\"right\");\n        // Set horizontal position\n        if (isRight) {\n          setLeft(data.left + data.width);\n        } else {\n          setLeft(Math.max(0, data.left - optionWidth));\n        }\n        // Set vertical position based on alignment\n        if (position?.endsWith(\"-top\")) {\n          setTop(data.top);\n        } else if (position?.endsWith(\"-bottom\")) {\n          setTop(Math.max(0, data.top + data.height - targetHeight));\n        } else {\n          // Center alignment for 'left' and 'right'\n          setTop(Math.max(0, data.top + (data.height - targetHeight) / 2));\n        }\n        setPlacement(\"horizontal\");\n        return;\n      }\n      // align to right (vertical variants)\n      if (position === \"bottom-right\" || position === \"top-right\") {\n        setLeft(data.left - optionWidth + data.width);\n        return;\n      }\n      // align to center (vertical variants)\n      if (position === \"bottom\" || position === \"top\") {\n        // can not count scroll bar width\n        setLeft(data.left - (optionWidth - data.width) * 0.5);\n        return;\n      }\n      // align to left (vertical variants)\n      if (position === \"bottom-left\" || position === \"top-left\") {\n        setLeft(data.left || 0);\n        return;\n      }\n      // auto align\n      setISTop(shouldTop);\n      if (!shouldPositionRight) setLeft(data.left || 0);\n      if (shouldPositionRight) setLeft(data.left - optionWidth + data.width);\n    },\n    [\n      overlayWidth,\n      overlayHeight,\n      persistDown,\n      position,\n      top,\n      setTop,\n      height,\n      setLeft,\n      fitToTrigger,\n    ]\n  );\n  const onHoverUpdateRect = useCallback(() => {\n    const target = ref.current as unknown as HTMLDivElement;\n    if (!(target && target.getBoundingClientRect)) return;\n    updateRect(target.getBoundingClientRect(), overlayHeight);\n  }, [overlayHeight, ref, updateRect]);\n  const updateFuncRef = useCurrent(onHoverUpdateRect);\n  useEffect(() => {\n    updateFuncRef.current();\n  }, [updateFuncRef, overlayHeight, ref]);\n  return {\n    onHoverUpdateRect,\n    updateRect,\n    top: Math.max(top, 0),\n    isTop,\n    left: Math.max(left, 0),\n    width,\n    height,\n    ref,\n    placement,\n  };\n}\n","import { isValidElement } from \"react\";\n\nexport function isChildrenElement(children: React.ReactNode) {\n  if (Array.isArray(children)) return false;\n  switch (typeof children) {\n    default:\n      return false;\n    case \"string\":\n    case \"number\":\n    case \"bigint\":\n    case \"boolean\":\n    case \"undefined\":\n      return false;\n    case \"object\":\n    case \"function\":\n    case \"symbol\":\n      return isValidElement(children);\n  }\n}\n","import {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  cloneElement,\n} from \"react\";\nimport {\n  useMeasure,\n  useClickAway,\n  useMouseWheel,\n  useWindowScroll,\n  useScroll,\n} from \"react-use\";\nimport styled from \"styled-components\";\nimport { Portal } from \"../Siblings\";\nimport { TDropdownPosition, useDropdownPosition } from \"./useDropdownPosition\";\nimport useCurrent from \"../hooks/useCurrent\";\nimport { dropdownPortalID } from \"../Siblings/portalID\";\nimport { isChildrenElement } from \"../utils/isChildrenElement\";\n\nexport interface DropdownProps {\n  /**\n   * trigger component\n   */\n  children?: React.ReactNode;\n  /**\n   * @default \"click\"\n   */\n  triggerType?: \"click\" | \"hover\";\n  /**\n   * dropdown component\n   */\n  overlay?: React.ReactNode;\n  /**\n   * trigger wrapper styles\n   */\n  style?: React.CSSProperties;\n  /**\n   * dropdown wrapper styles\n   */\n  overlayContainerStyle?: React.CSSProperties;\n  /**\n   * @default undefined = auto\n   * dropdown position:\n   * - Vertical positions: \"top-left\" | \"top\" | \"top-right\" | \"bottom-left\" | \"bottom\" | \"bottom-right\"\n   * - Horizontal positions: \"left-top\" | \"left\" | \"left-bottom\" | \"right-top\" | \"right\" | \"right-bottom\"\n   * - Auto: \"auto\" | undefined\n   */\n  position?: TDropdownPosition;\n  /**\n   * dropdown visible\n   */\n  visible?: boolean;\n  /**\n   * dropdown visible onChange callback\n   */\n  onVisibleChange?: (visible: boolean) => void;\n  /**\n   * disable the auto dismiss when user click or scroll outside\n   */\n  disableAutoDismiss?: boolean;\n  /**\n   * disable dropdown enter & leave default animation\n   */\n  disableAnimation?: boolean;\n  /**\n   * ID of the dom element, which will be insert the dropdown items\n   * @default dropdownPortalID (`orthogonal-dropdown-overlay`)\n   */\n  parentNodeID?: string;\n  /** the scroll element ref, add listener to watch scroll event */\n  scrollRef?: React.RefObject<HTMLElement>;\n  /**\n   * @default false\n   * @description when set to true, overlay position should cover trigger\n   */\n  fitToTrigger?: boolean;\n}\n\nexport function BaseDropdown(props: DropdownProps) {\n  const {\n    overlayContainerStyle,\n    visible,\n    onVisibleChange,\n    disableAnimation,\n    disableAutoDismiss,\n    parentNodeID = dropdownPortalID,\n    scrollRef,\n    triggerType = \"click\",\n    fitToTrigger = false,\n  } = props;\n  const isHover = useRef(false);\n  const [overlayRef, { height: overlayHeight, width: overlayWidth }] =\n    useMeasure();\n  const onVisibleCallbackRef = useCurrent(onVisibleChange);\n  const [_visible, setVisible] = useState(!!visible);\n  // sync with parent state\n  useEffect(() => {\n    setVisible((curVisible) => {\n      if (curVisible !== visible) return !!visible;\n      return curVisible;\n    });\n  }, [visible]);\n  useEffect(() => {\n    if (onVisibleCallbackRef.current) onVisibleCallbackRef.current(_visible);\n  }, [_visible, onVisibleCallbackRef]);\n  const initd = !!overlayHeight && !!overlayWidth;\n  const { ref, top, left, onHoverUpdateRect, isTop, placement } =\n    useDropdownPosition(\n      overlayHeight,\n      overlayWidth,\n      32, // default height, will be replace automatically when get the overlay rect height\n      false,\n      props.position,\n      fitToTrigger\n    );\n  /** @tip handle auto dismiss when click */\n  useClickAway(ref, () => {\n    if (disableAutoDismiss) return;\n    if (isHover.current) return;\n    setVisible(false);\n  });\n  /** @tip handle auto dismiss when mouse wheel */\n  const mouseWheel = useMouseWheel();\n  useEffect(() => {\n    if (disableAutoDismiss) {\n      onHoverUpdateRect();\n      return;\n    }\n    if (isHover.current) return;\n    if (!mouseWheel) return;\n    setVisible(false);\n  }, [mouseWheel, disableAutoDismiss, onHoverUpdateRect]);\n  /** @tip handle auto dismiss when scroll */\n  const { x, y } = useWindowScroll();\n  const _scrollRef = useRef(null);\n  const { x: containerX, y: containerY } = useScroll(scrollRef || _scrollRef);\n  useEffect(() => {\n    if (disableAutoDismiss) {\n      onHoverUpdateRect();\n      return;\n    }\n    if (isHover.current) return;\n    if (!x && !y && !containerX && !containerY) return;\n    setVisible(false);\n  }, [disableAutoDismiss, onHoverUpdateRect, x, y, containerX, containerY]);\n  const _overlayContainerStyle: React.CSSProperties = useMemo(() => {\n    const opacity = initd && _visible ? 1 : 0;\n    const pointerEvents = initd && _visible ? \"auto\" : \"none\";\n    const offset = fitToTrigger ? 1 : 0.1;\n    let _top = top;\n    let _left = left;\n    let maxHeight = \"50vh\";\n    const innerHeight = window.innerHeight ?? document.body.clientHeight;\n    if (overlayHeight && innerHeight) {\n      if (isTop) {\n        // dynamic value will cause infinite loop\n        // maxHeight = `${Math.max(top - 8, 200)}px`;\n      }\n      if (!isTop) {\n        maxHeight = `${Math.max(innerHeight - top - 8, 200)}px`;\n      }\n    }\n    if (!disableAnimation && !_visible) {\n      if (placement === \"horizontal\") {\n        const isRight = props.position?.startsWith(\"right\");\n        if (isRight) {\n          _left = left - offset * overlayWidth;\n        } else {\n          _left = left + offset * overlayWidth;\n        }\n      } else {\n        if (isTop) {\n          _top = top + offset * overlayHeight;\n        } else {\n          _top = top - offset * overlayHeight;\n        }\n      }\n    }\n    if (disableAnimation) {\n      _top = top;\n      _left = left;\n    }\n    return {\n      transition: disableAnimation ? \"none\" : undefined,\n      pointerEvents,\n      opacity,\n      ...(overlayContainerStyle || {}),\n      zIndex: _visible ? overlayContainerStyle?.zIndex : -1,\n      top: _top,\n      left: _left,\n      maxHeight,\n    };\n  }, [\n    initd,\n    _visible,\n    top,\n    isTop,\n    disableAnimation,\n    overlayContainerStyle,\n    left,\n    fitToTrigger,\n    placement,\n    props.position,\n    overlayHeight,\n    overlayWidth,\n  ]);\n  const _onMouseEnter = useCallback(() => {\n    isHover.current = true;\n    if (triggerType === \"hover\") setVisible(true);\n    onHoverUpdateRect();\n  }, [onHoverUpdateRect, triggerType]);\n  const isSingleElement = isChildrenElement(props.children);\n  return (\n    <>\n      {/* will generate extra wrapper */}\n      {isSingleElement &&\n        cloneElement(props.children as unknown as JSX.Element, {\n          ref: (element: Element) => {\n            // function\n            if (\n              \"ref\" in (props.children as any) &&\n              typeof (props.children as any).ref === \"function\"\n            ) {\n              (props.children as any).ref(element);\n            }\n            // useRef\n            if (\n              \"ref\" in (props.children as any) &&\n              typeof (props.children as any).ref === \"object\" &&\n              (props.children as any).ref\n            ) {\n              if (\"current\" in (props.children as any).ref)\n                (props.children as any).ref.current = element;\n            }\n            (ref.current as any) = element;\n          },\n          onMouseEnter: (e: MouseEvent) => {\n            if ((props.children as any).props.onMouseEnter)\n              (props.children as any).props.onMouseEnter(e);\n            _onMouseEnter();\n          },\n          onMouseLeave: (e: MouseEvent) => {\n            if ((props.children as any).props.onMouseLeave)\n              (props.children as any).props.onMouseLeave(e);\n            isHover.current = false;\n            if (triggerType === \"hover\") setVisible(false);\n          },\n        })}\n      {/* will not generate extra wrapper */}\n      {!isSingleElement && (\n        <Wrapper\n          ref={ref}\n          style={props.style}\n          onMouseEnter={_onMouseEnter}\n          onMouseLeave={() => {\n            isHover.current = false;\n            if (triggerType === \"hover\") setVisible(false);\n          }}\n          role=\"select\"\n        >\n          {props.children}\n        </Wrapper>\n      )}\n      {!!props.overlay && (\n        <Portal id={parentNodeID}>\n          <OverlayWrapper\n            style={_overlayContainerStyle}\n            ref={(el) => el && overlayRef(el)}\n            onMouseEnter={_onMouseEnter}\n            onMouseLeave={() => {\n              isHover.current = false;\n              if (triggerType === \"hover\") setVisible(false);\n            }}\n            $maxHeight={_overlayContainerStyle.maxHeight}\n          >\n            {props.overlay}\n          </OverlayWrapper>\n        </Portal>\n      )}\n    </>\n  );\n}\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex: none;\n  width: max-content;\n  align-items: center;\n  box-sizing: border-box;\n`;\n\nconst OverlayWrapper = styled.div<{\n  $maxHeight?: React.CSSProperties[\"maxHeight\"];\n}>`\n  position: fixed;\n  z-index: ${(p) => p.theme.zIndexes.dropdownZIndex};\n  width: max-content;\n  box-sizing: border-box;\n  max-height: 80vh;\n  transition: top 0.2s ease, left 0.2s ease, opacity 0.2s ease;\n\n  && > * {\n    max-height: ${(p) => p.$maxHeight ?? \"80vh\"};\n  }\n`;\n"],"names":["defaultEvents","useClickAway","ref","onClickAway","events","savedCallback","useRef","useEffect","handler","event","el","_i","events_1","eventName","on","events_2","off","useClickAway$1","useEffectOnce","effect","useEffectOnce$1","useUnmount","fn","fnRef","useUnmount$1","useRafState","initialState","frame","_a","useState","state","setState","setRafState","useCallback","value","useRafState$1","useMouseWheel","mouseWheelScrolled","setMouseWheelScrolled","updateScroll","e","useScroll","useScroll$1","useWindowScroll","isBrowser","pageXOffset","pageYOffset","useWindowScroll$1","useDropdownPosition","overlayHeight","overlayWidth","offsetHeight","persistDown","position","fitToTrigger","top","setTop","left","setLeft","width","setWidth","height","setHeight","isTop","setISTop","placement","setPlacement","updateRect","data","targetHeight","triggerHeight","optionWidth","diff","shouldPositionRight","shouldTop","setToBottomValue","setToTopValue","isRight","onHoverUpdateRect","target","updateFuncRef","useCurrent","isChildrenElement","children","isValidElement","BaseDropdown","props","overlayContainerStyle","visible","onVisibleChange","disableAnimation","disableAutoDismiss","parentNodeID","dropdownPortalID","scrollRef","triggerType","isHover","overlayRef","useMeasure","onVisibleCallbackRef","_visible","setVisible","curVisible","initd","mouseWheel","x","y","_scrollRef","containerX","containerY","_overlayContainerStyle","useMemo","opacity","pointerEvents","offset","_top","_left","maxHeight","innerHeight","_onMouseEnter","isSingleElement","jsxs","Fragment","cloneElement","element","jsx","Wrapper","Portal","OverlayWrapper","styled","p"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}