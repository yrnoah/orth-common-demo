import{j as _}from"./jsx-runtime-94f6e698.js";import{a as A,b as w}from"./react-spring-web.esm-788c8f7b.js";import{r as d}from"./index-8db94870.js";import{p as E}from"./styled-components.browser.esm-8c817f58.js";import{c as S}from"./colors-0fffe0c4.js";import{s as I}from"./typography-05e40c9f.js";import{g as y,D as x,a as k,c as q}from"./common-d4e29412.js";const O=d.createContext({}),L=O.Provider;function K(){return d.useContext(O)}const V=d.createContext({currentTheme:"plus"}),F=V.Provider;function Q(){return d.useContext(V)}const H=d.createContext({});H.Provider;const N=d.createContext({}),tt=N.Provider,R=E(A.div)`
  ${e=>e.theme.flexCSS.row}
  ${e=>e.theme.flexCSS.center}
  gap: 4px;
  position: absolute;
  top: 0;
  left: 0;
  border-radius: 8px;
  width: fit-content;
  height: fit-content;
  user-select: none;
  z-index: ${e=>e.theme.zIndexes.dymenu_base};
`,W={plus:{color:S.plus_woodwhite,backgroundColor:S.plus_carbon97,boxShadow:I.floatingDark},minus:{color:S.plus_ash,backgroundColor:S.plus_warmwhite,boxShadow:I.floatingLight},none:{}},p={config:q};function M({children:e,init:o={},anchor:i="top-left",theme:a="plus",style:v,...P}){const C=d.useMemo(()=>y(o.width??x,o.height??x,i),[i,o]),r=d.useMemo(()=>$(C)(o),[o,C]),l=w(r.x,p),m=w(r.y,p),s=w(r.width,p),c=w(r.height,p),D=w(r.opacity,{config:k}),b=()=>({x:l.get(),y:m.get(),width:s.get(),height:c.get(),opacity:D.get()}),j={menuX:l,menuY:m,menuWidth:s,menuHeight:c,menuOpacity:D,startSizeTo:async(n,h)=>{const t=b(),g=y(t.width,t.height,i),f=y(n.width??t.width,n.height??t.height,i),u=z(g,f)(n,t),T={defaultConfig:p,...n.config,delay:h};return await Promise.all([c.start(u.height,T),m.start(u.y,T)]),Promise.all([s.start(u.width,n.config),l.start(u.x,n.config)])},returnToInitialStyle:async()=>(await Promise.all([c.start(r.height??x),m.start(r.y)]),await Promise.all([s.start(r.width??x),l.start(r.x)])),scaleSizeTo:async n=>{const h={...p,...n.config},t=b(),g=y(t.width,t.height,i),f=y(n.width??t.width,n.height??t.height,i),u=z(g,f)(n,t);return await Promise.allSettled([s.start(u.width,h),c.start(u.height,h),l.start(u.x,h),m.start(u.y,h)])},scaleToInitialSize:()=>Promise.allSettled([s.start(r.width),c.start(r.height),l.start(r.x),m.start(r.y)]),setSizeTo:({x:n,y:h,width:t,height:g})=>{const f=y(t??s.get(),g??c.get(),i);t!==void 0&&s.set(t),g!==void 0&&c.set(g),n!==void 0&&l.set(n-f.x),h!==void 0&&m.set(h-f.y)}};return _.jsx(F,{value:{currentTheme:a},children:_.jsx(L,{value:j,children:_.jsx(R,{...P,style:{x:l,y:m,width:s,height:c,opacity:D,...W[a],...v},children:e})})})}const $=e=>o=>({x:(o.x??0)-e.x,y:(o.y??0)-e.y,width:o.width??x,height:o.height??x,opacity:o.opacity??1}),z=(e,o)=>(i,a)=>{const v={x:a.x+e.x,y:a.y+e.y},P=i.width?{x:(i.x??v.x)-o.x,width:i.width??a.width}:{x:a.x,width:a.width},C=i.height?{y:(i.y??v.y)-o.y,height:i.height??a.height}:{y:a.y,height:a.height};return{...P,...C}};try{M.displayName="DynamicMenu",M.__docgenInfo={description:"Renders a dynamic menu component with the specified children and initial state.",displayName:"DynamicMenu",props:{init:{defaultValue:{value:"{}"},description:"",name:"init",required:!1,type:{name:"ITransform"}},theme:{defaultValue:{value:"plus"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"plus"'},{value:'"minus"'}]}},anchor:{defaultValue:{value:"top-left"},description:"",name:"anchor",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'},{value:'"bottom"'},{value:'"top"'},{value:'"top-left"'},{value:'"top-right"'},{value:'"bottom-left"'},{value:'"bottom-right"'}]}}}}}catch{}export{M as D,H as I,tt as S,Q as a,O as b,K as u};
//# sourceMappingURL=Dynamic-993557e0.js.map
