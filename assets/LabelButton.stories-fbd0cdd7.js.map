{"version":3,"file":"LabelButton.stories-fbd0cdd7.js","sources":["../../../paas-library/src/Buttons/LabelButton.tsx"],"sourcesContent":["import { forwardRef, useRef, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Portal } from \"../Siblings\";\nimport { tabTooltipPortalID } from \"../Siblings/portalID\";\nimport { Tooltip, type TooltipProps } from \"./Tooltip\";\n\ninterface LabelButtonProps extends React.ComponentProps<\"button\"> {\n  /** @description focused */\n  $active?: boolean;\n  children?: React.ReactNode;\n  /**\n   * @description which portal container to render tooltip\n   */\n  portalID?: string;\n  tooltip?: TooltipProps[\"tooltip\"];\n  /**\n   * @default bottom\n   */\n  tooltipPosition?: TooltipProps[\"tooltipPosition\"];\n  tooltipStyle?: React.CSSProperties;\n}\n\n/**\n * @design https://www.figma.com/design/xySxqdUKe9sSfV8SLimvdi/%F0%9F%8C%8F-Global-DS-Kit?node-id=1127-1058&t=Vcy9wfbTrlCfAp8z-4\n */\nexport const LabelButton = forwardRef<HTMLButtonElement, LabelButtonProps>(\n  (props, ref) => {\n    const {\n      tooltip,\n      portalID = tabTooltipPortalID,\n      tooltipPosition = \"bottom\",\n      children,\n      tooltipStyle,\n      ...buttonProps\n    } = props;\n    const _ref = useRef<HTMLButtonElement | null>(null);\n    // refresh position when scroll\n    const [hoveredTime, setHovered] = useState(0);\n    return (\n      <Button\n        {...buttonProps}\n        onMouseOver={(event) => {\n          buttonProps.onMouseOver?.(event);\n          setHovered(Date.now());\n        }}\n        onMouseOut={(event) => {\n          buttonProps.onMouseOut?.(event);\n          setHovered(0);\n        }}\n        onWheel={(event) => {\n          buttonProps.onWheel?.(event);\n          setHovered(Date.now());\n        }}\n        ref={(element) => {\n          _ref.current = element;\n          if (!!ref) {\n            if (typeof ref === \"function\") {\n              ref(element);\n            }\n            if (\"current\" in ref) ref.current = element;\n          }\n        }}\n      >\n        {!!tooltip && (\n          <Portal id={portalID}>\n            <Tooltip\n              tooltip={tooltip}\n              tooltipPosition={tooltipPosition}\n              parent={_ref}\n              key={`${hoveredTime}`}\n              show={!!hoveredTime} // to calculate position, should render first\n              style={tooltipStyle}\n            />\n          </Portal>\n        )}\n        {children}\n      </Button>\n    );\n  }\n);\n\nconst Button = styled.button.attrs({\n  type: \"button\",\n})<LabelButtonProps>`\n  ${(p) => p.theme.button.reset}\n  ${(p) => p.theme.flex.row}\n  ${(p) => p.theme.flex.center}\n  ${(p) => p.theme.fonts.Default}\n  position: relative;\n  gap: 4px;\n  color: ${(p) => p.theme.colors.elementsContentMain};\n  padding: 4px 0;\n  transition: all ${(p) => p.theme.animation.duration};\n\n  &::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -1px;\n    height: 1px;\n    transition: all ${(p) => p.theme.animation.duration};\n  }\n\n  &:hover {\n    color: ${(p) => p.theme.colors.elementsContentFocus};\n  }\n\n  &:active {\n    color: ${(p) => p.theme.colors.elementsContentFocus};\n  }\n\n  ${(p) =>\n    p.$active &&\n    css`\n      color: ${(p) => p.theme.colors.elementsContentMain};\n\n      &::after {\n        background-color: ${(p) => p.theme.colors.elementsContentFocus};\n      }\n    `}\n\n  &:disabled {\n    color: ${(p) => p.theme.colors.elementsContentMain};\n    opacity: 0.3;\n    cursor: not-allowed;\n  }\n`;\n"],"names":["LabelButton","forwardRef","props","ref","tooltip","tabTooltipPortalID","children","tooltipStyle","buttonProps","_ref","useRef","hoveredTime","setHovered","useState","jsxs","Button","event","element","jsx","Portal","portalID","Tooltip","tooltipPosition","styled","p","reset","row","center","Default","elementsContentMain","duration","elementsContentFocus","css"],"mappings":"+WAyBO,MAAAA,EAAAC,EAAA,WAAA,CAAAC,EAAAC,IAAA,CAEH,KAAA,CAAM,QAAAC,EACJA,SAAAA,EAAAA,EACWC,gBAAAA,EAAAA,SACO,SAAAC,EAClBA,aAAAA,EACAC,GAAAA,CACGC,EAAAA,EAELC,EAAAC,SAAA,IAAA,EAEA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,EACA,OAAAC,EAAAA,KAAAC,EAAA,CAAA,GAAAP,EAAA,YAAAQ,GAAA,QAIMR,EAAAA,EAAAA,cAAAA,MAAAA,EAAAA,KAAAA,EAAAA,GACAI,EAAAA,KAAAA,IAAAA,CAAAA,CAAqB,EAAA,WAAAI,GAAA,QAGrBR,EAAAA,EAAAA,aAAAA,MAAAA,EAAAA,KAAAA,EAAAA,GACAI,EAAAA,CAAAA,CAAY,EAAA,QAAAI,GAAA,QAGZR,EAAAA,EAAAA,UAAAA,MAAAA,EAAAA,KAAAA,EAAAA,GACAI,EAAAA,KAAAA,IAAAA,CAAAA,CAAqB,EAAA,IAAAK,GAAA,CAGrBR,EAAAA,QAAAA,EACAN,IACE,OAAAA,GAAA,YACEA,EAAAA,CAAAA,EAEF,YAAAA,IAAsBA,EAAAA,QAAAA,GACxB,EAAA,SAAA,CAGD,CAAA,CAAAC,GAAAc,MAAAC,EAAA,CAAA,GAAAC,EAAA,SAAAF,EAAA,IAEGG,EAAC,CAAA,QAAAjB,EACC,gBAAAkB,EACA,OAAAb,EACQA,KAAAA,CAAAA,CAAAA,EAEAE,MAAAA,CACDJ,EAAAA,GAAAA,GAFCI,EAAAA,EAIZL,CAEDA,CAAAA,CAAAA,CAGP,CAAA,EAGFS,EAAAQ,EAAA,OAAA,MAAA,CAAmC,KAAA,QAEnC,CAAA;AAAA,IAACC,GAAAA,EAAA,MAAA,OAAA;AAAA,IACyBC,GAAAA,EAAAA,MAAAA,KAAAA;AAAAA,IACFC,GAAAA,EAAAA,MAAAA,KAAAA;AAAAA,IACAC,GAAAA,EAAAA,MAAAA,MAAAA;AAAAA;AAAAA;AAAAA,WACCC,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA,oBAGQC,GAAAA,EAAAA,MAAAA,UAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,sBAEYC,GAAAA,EAAAA,MAAAA,UAAAA;AAAAA;AAAAA;AAAAA;AAAAA,aAUEA,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA;AAAAA;AAAAA,aAIZC,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA;AAAAA,IAIAA,GAAAA,EAAAA,SAAAA;AAAAA,eAK/BC,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA;AAAAA,4BACiCH,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,aAGaE,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA;AAAAA;AAAAA;;;;;;;;;;;;;;;;;"}