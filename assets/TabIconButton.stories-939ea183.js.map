{"version":3,"file":"TabIconButton.stories-939ea183.js","sources":["../../../paas-library/src/Buttons/Tab/IconButton.tsx"],"sourcesContent":["import { forwardRef, useEffect, useRef, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Portal } from \"../../Siblings\";\nimport { tabTooltipPortalID } from \"../../Siblings/portalID\";\nimport { Tooltip, type TooltipProps } from \"../Tooltip\";\n\nexport interface TabIconButtonProps extends React.ComponentProps<\"button\"> {\n  $active?: boolean;\n  /** @description override active styles */\n  $activeThemes?: React.CSSProperties;\n  /** @description override hover styles */\n  $hoverThemes?: React.CSSProperties;\n  /** @description override disabled styles */\n  $disableThemes?: React.CSSProperties;\n  children?: React.ReactNode;\n  /**\n   * @description which portal container to render tooltip\n   */\n  portalID?: string;\n  tooltip?: TooltipProps[\"tooltip\"];\n  /**\n   * @default bottom\n   */\n  tooltipPosition?: TooltipProps[\"tooltipPosition\"];\n  tooltipStyle?: React.CSSProperties;\n}\n\nexport const IconButton = forwardRef<HTMLButtonElement, TabIconButtonProps>(\n  (props, ref) => {\n    const {\n      tooltip,\n      portalID = tabTooltipPortalID,\n      tooltipPosition = \"bottom\",\n      children,\n      tooltipStyle,\n      ...buttonProps\n    } = props;\n    const _ref = useRef<HTMLButtonElement | null>(null);\n    // refresh position when scroll\n    const [hoveredTime, setHovered] = useState(0);\n    useEffect(() => {\n      return () => {\n        // clear\n        if (_ref.current) _ref.current = null;\n      };\n    }, []);\n    return (\n      <Button\n        {...buttonProps}\n        onMouseOver={(event) => {\n          buttonProps.onMouseOver?.(event);\n          setHovered(Date.now());\n        }}\n        onMouseOut={(event) => {\n          buttonProps.onMouseOut?.(event);\n          setHovered(0);\n        }}\n        onWheel={(event) => {\n          buttonProps.onWheel?.(event);\n          setHovered(Date.now());\n        }}\n        ref={(element) => {\n          _ref.current = element;\n          if (!!ref) {\n            if (typeof ref === \"function\") {\n              ref(element);\n            }\n            if (\"current\" in ref) ref.current = element;\n          }\n        }}\n      >\n        {!!tooltip && (\n          <Portal id={portalID}>\n            <Tooltip\n              tooltip={tooltip}\n              tooltipPosition={tooltipPosition}\n              parent={_ref}\n              key={`${hoveredTime}`}\n              show={!!hoveredTime}\n              style={tooltipStyle}\n            />\n          </Portal>\n        )}\n        {children}\n      </Button>\n    );\n  }\n);\n\nconst activeThemes = css<TabIconButtonProps>`\n  color: ${(p) => p.theme.colors.elementsContentFocus};\n  background-color: ${(p) => p.theme.colors.elementsLayerActivated};\n\n  ${(p) => (p.$activeThemes ? { ...p.$activeThemes } : undefined)}\n`;\n\nconst Button = styled.button.attrs({\n  type: \"button\",\n})<TabIconButtonProps>`\n  ${(p) => p.theme.button.reset}\n  ${(p) => p.theme.flex.row}\n  ${(p) => p.theme.flex.center}\n  padding: 8px;\n  border-radius: 50%;\n  color: ${(p) => p.theme.colors.elementsContentMain};\n  transition: all 0.2s ease-out;\n\n  &:hover {\n    color: ${(p) => p.theme.colors.elementsContentFocus};\n\n    ${(p) => (p.$hoverThemes ? { ...p.$hoverThemes } : undefined)}\n  }\n\n  &:active {\n    ${activeThemes}\n\n    ${(p) => (p.$activeThemes ? { ...p.$activeThemes } : undefined)}\n  }\n\n  ${(p) => p.$active && activeThemes}\n\n  &:disabled {\n    color: ${(p) => p.theme.colors.elementsContentMain};\n    background-color: transparent;\n    opacity: 0.3;\n    cursor: not-allowed;\n\n    ${(p) => (p.$disableThemes ? { ...p.$disableThemes } : undefined)}\n  }\n`;\n"],"names":["IconButton","forwardRef","props","ref","tooltip","tabTooltipPortalID","children","tooltipStyle","buttonProps","_ref","useRef","hoveredTime","setHovered","useState","useEffect","jsxs","Button","event","element","jsx","Portal","portalID","Tooltip","tooltipPosition","activeThemes","css","elementsContentFocus","elementsLayerActivated","p","styled","reset","row","center","elementsContentMain","undefined"],"mappings":"0WA2BO,MAAAA,EAAAC,EAAA,WAAA,CAAAC,EAAAC,IAAA,CAEH,KAAA,CAAM,QAAAC,EACJA,SAAAA,EAAAA,EACWC,gBAAAA,EAAAA,SACO,SAAAC,EAClBA,aAAAA,EACAC,GAAAA,CACGC,EAAAA,EAELC,EAAAC,SAAA,IAAA,EAEA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,EACAC,OAAAA,EAAAA,UAAAA,IACE,IAAA,CAEEL,EAAA,UAAkBA,EAAAA,QAAAA,KAAe,EACnC,CAAA,CAAA,EAEFM,EAAAA,KAAAC,EAAA,CAAA,GAAAR,EAAA,YAAAS,GAAA,QAIMT,EAAAA,EAAAA,cAAAA,MAAAA,EAAAA,KAAAA,EAAAA,GACAI,EAAAA,KAAAA,IAAAA,CAAAA,CAAqB,EAAA,WAAAK,GAAA,QAGrBT,EAAAA,EAAAA,aAAAA,MAAAA,EAAAA,KAAAA,EAAAA,GACAI,EAAAA,CAAAA,CAAY,EAAA,QAAAK,GAAA,QAGZT,EAAAA,EAAAA,UAAAA,MAAAA,EAAAA,KAAAA,EAAAA,GACAI,EAAAA,KAAAA,IAAAA,CAAAA,CAAqB,EAAA,IAAAM,GAAA,CAGrBT,EAAAA,QAAAA,EACAN,IACE,OAAAA,GAAA,YACEA,EAAAA,CAAAA,EAEF,YAAAA,IAAsBA,EAAAA,QAAAA,GACxB,EAAA,SAAA,CAGD,CAAA,CAAAC,GAAAe,MAAAC,EAAA,CAAA,GAAAC,EAAA,SAAAF,EAAAA,IAAAG,EAAA,CAAA,QAAAlB,EAAA,gBAAAmB,EAAA,OAAAd,EAAA,KAAA,CAAA,CAAAE,EAAA,MAAAJ,CAAA,EAAA,GAAAI,GAAA,CAAA,CAAA,EAUCL,CAEDA,CAAAA,CAAAA,CAGP,CAAA,EAGFkB,EAAAC;AAAAA,WAAqBA,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA,sBACYC,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA,IACWC,GAAAA,EAAAA,cAAAA,CAEd,GAAAC,EAAA,aAAqB,EAAA;AAAA,EAGnDZ,EAAAa,EAAA,OAAA,MAAA,CAAmC,KAAA,QAEnC,CAAA;AAAA,IAACD,GAAAA,EAAA,MAAA,OAAA;AAAA,IACyBE,GAAAA,EAAAA,MAAAA,KAAAA;AAAAA,IACFC,GAAAA,EAAAA,MAAAA,KAAAA;AAAAA;AAAAA;AAAAA,WACAC,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA;AAAAA;AAAAA,aAGSC,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA,MAIEP,GAAAA,EAAAA,aAAAA,CAEJ,GAAAE,EAAA,YAAoB,EAAA;AAAA;AAAA;AAAA;AAAA,MAAIM;AAAAA;AAAAA,MAIjDV,GAAAA,EAAAA,cAAAA,CAE0B,GAAAI,EAAA,aAAqB,EAAA;AAAA;AAAA;AAAA,IAAIM,GAAAA,EAAAA,SAAAA;AAAAA;AAAAA;AAAAA,aAGjCV,GAAAA,EAAAA,MAAAA,OAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,MAGWS,GAAAA,EAAAA,eAAAA,CAKF,GAAAL,EAAA,cAAsB,EAAA;AAAA;AAAA;;;;;;;;;;;;"}