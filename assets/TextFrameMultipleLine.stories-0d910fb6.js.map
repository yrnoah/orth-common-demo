{"version":3,"file":"TextFrameMultipleLine.stories-0d910fb6.js","sources":["../../../paas-library/src/Textfield/TextFrameMultipleLine.tsx"],"sourcesContent":["import { type ComponentPropsWithRef, forwardRef, useState } from \"react\";\nimport { ErrorTip } from \"./ErrorTip\";\nimport { FieldLabel } from \"./Label\";\nimport styled from \"styled-components\";\nimport {\n  textfieldFrameInputStyle,\n  type TextfieldFrameInputStyleProps,\n} from \"./styles\";\n\ninterface TextFrameMultipleLineProps extends ComponentPropsWithRef<\"textarea\"> {\n  /**\n   * @default false\n   * @description when true, display word counts on label.\n   */\n  showCount?: boolean;\n  /** @description control input error style & display under input element */\n  errorMessage?: string;\n  /**\n   * @default false\n   * @description error tip block default owns 16px height; when set hasError to false, remove error tip block no matter if error message exists.\n   */\n  hasError?: boolean;\n  /** @description label text */\n  label?: string;\n  /** @description override FieldLabel props */\n  labelProps?: ComponentPropsWithRef<\"label\">;\n  /** @description override ErrorTip props */\n  errorProps?: ComponentPropsWithRef<typeof ErrorTip>;\n  /**\n   * @default baseColor.Volcano5 `#EE8152`\n   * @description override error color for border & icon\n   */\n  $errorColor?: React.CSSProperties[\"color\"];\n}\n\n/** @design https://www.figma.com/design/JGFHYME2p7RpeMYcoMqooS/ODE-Library-1.0?node-id=7870-18087&t=N8jQZoWKafMhXbWa-4 */\nexport const TextFrameMultipleLine = forwardRef<\n  HTMLTextAreaElement,\n  TextFrameMultipleLineProps\n>((props, ref) => {\n  const {\n    showCount = false,\n    hasError = false,\n    errorMessage,\n    label = \"\",\n    labelProps,\n    errorProps,\n    $errorColor,\n    ...inputParams\n  } = props;\n  const [_value, setValue] = useState(() => {\n    const result = props.value || props.defaultValue;\n    if (result) {\n      if (typeof result === \"string\") return result;\n      if (typeof result === \"number\") return `${result}`;\n      return result.join(\"\");\n    }\n    return \"\";\n  });\n  const counts = _value.length;\n  /** @description sync width to label & error if exists inside input style */\n  const width = props.style?.width ?? 200;\n  const minWidth = props.style?.minWidth;\n  const maxWidth = props.style?.maxWidth;\n  return (\n    <>\n      <>\n        <FieldLabel\n          {...labelProps}\n          text={label}\n          style={{\n            ...labelDefaultStyles,\n            width,\n            minWidth,\n            maxWidth,\n            ...labelProps?.style,\n          }}\n          $required={inputParams.required}\n        >\n          {showCount && !!counts && <WordCounts>{counts}</WordCounts>}\n        </FieldLabel>\n        <br />\n      </>\n      <Input\n        /** @description clear auto complete */\n        autoComplete=\"new-password\"\n        {...inputParams}\n        style={{ ...inputDefaultStyles, width, ...inputParams?.style }}\n        $error={!!errorMessage}\n        $errorColor={$errorColor}\n        onChange={(e) => {\n          setValue(e.target.value || \"\");\n          if (props.onChange) props.onChange(e);\n        }}\n        ref={ref}\n      />\n      {hasError && (\n        <ErrorTip\n          {...errorProps}\n          style={{ width, minWidth, maxWidth, ...errorProps?.style }}\n          message={props.disabled ? undefined : errorMessage}\n          $errorColor={$errorColor}\n        />\n      )}\n    </>\n  );\n});\n\nexport const Input = styled.textarea<TextfieldFrameInputStyleProps>`\n  height: 84px;\n  resize: none;\n  ${textfieldFrameInputStyle}\n  transition: border-color 0.2s ease, color 0.2s ease;\n`;\n\nconst labelDefaultStyles = {\n  display: \"inline-block\",\n  marginBottom: 4,\n} satisfies React.CSSProperties;\n\nconst inputDefaultStyles = {\n  marginBottom: 4,\n} satisfies React.CSSProperties;\n\nexport const WordCounts = styled.span`\n  ${(p) => p.theme.fonts[\"Caption-Large/Bold\"]}\n  color: ${(p) => p.theme.colors.textInput.minor};\n  position: absolute;\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n`;\n"],"names":["TextFrameMultipleLine","forwardRef","props","ref","showCount","hasError","errorMessage","labelProps","errorProps","$errorColor","inputParams","_value","setValue","useState","result","counts","width","_a","minWidth","_b","maxWidth","_c","jsxs","Fragment","jsx","FieldLabel","label","labelDefaultStyles","style","Input","inputDefaultStyles","e","ErrorTip","styled","textarea","WordCounts","span","p"],"mappings":"yYAoCO,MAAAA,EAAAC,EAAA,WAAA,CAAAC,EAAAC,IAAA,WAIL,KAAA,CAAM,UAAAC,EAAA,GACQ,SAAAC,EAAA,GACD,aAAAC,EACXA,MAAAA,EAAAA,GACQ,WAAAC,EACRA,WAAAA,EACAC,YAAAA,EACAC,GAAAA,CACGC,EAAAA,EAEL,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,IAAA,CACE,MAAAC,EAAAZ,EAAA,OAAAA,EAAA,aACA,OAAAY,EACE,OAAAA,GAAA,SAAgCA,EAChC,OAAAA,GAAA,SAAgC,GAAAA,IAChCA,EAAA,KAAA,EAAA,EAEF,EAAO,CAAA,EAETC,EAAAJ,EAAA,OAEAK,IAAAC,EAAAf,EAAA,QAAA,YAAAe,EAAA,QAAA,IACAC,GAAAC,EAAAjB,EAAA,QAAA,YAAAiB,EAAA,SACAC,GAAAC,EAAAnB,EAAA,QAAA,YAAAmB,EAAA,SACA,OAAAC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAEID,OAAAC,EAAAA,SAAA,CAAA,SAAA,CACEC,EAAA,IAAAC,EAAA,CAAA,GAAAlB,EAAA,KAAAmB,EAAA,MAAA,CAGS,GAAAC,EACFA,MAAAA,EACHX,SAAAA,EACAE,SAAAA,EACAE,GAAAA,GAAAA,YAAAA,EAAAA,KACeQ,EAAAA,UAAAA,EAAAA,SAAAA,SAAAA,GAAAA,CAAAA,CAAAA,GAAAA,EAAAA,IAAAA,EAAAA,CAAAA,SAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAKnBJ,EAAA,IAAA,KAAA,EAAA,CACG,EAAA,EACLA,EAAA,IACAK,EAAC,CAAA,aAAA,eAEc,GAAAnB,EACTA,MAAAA,CACG,GAAAoB,EAAKA,MAAAA,EAAoBd,GAAAA,GAAAA,YAAAA,EAAAA,KAAuBY,EAAM,OAAA,CAAA,CAAAtB,EACnDA,YAAAA,EACV,SAAAyB,GAAA,CAEEnB,EAAAA,EAAAA,OAAAA,OAAAA,EAAAA,EACAV,EAAA,UAAoBA,EAAAA,SAAAA,CAAAA,CAAgB,EACtC,IAAAC,CACA,CAAA,EAASE,GAAAmB,EAAAA,IAAAQ,EAAA,CAAA,GAAAxB,EAAA,MAAA,CAKA,MAAAQ,EAAEA,SAAAA,EAAOE,SAAAA,EAAUE,GAAAA,GAAAA,YAAAA,EAAAA,KAAyBQ,EAAAA,QAAAA,EAAAA,SAAAA,OAAAA,EAAAA,YAAAA,EAAAA,CAItD,CAAA,CAAA,CAGP,CAAA,EAEOC,EAAAI,EAAA;AAAA;AAAA;AAAA,IAAqBC;AAAAA;AAAAA,EAO5BP,EAAA,CAA2B,QAAA,eAChB,aAAA,CAEX,EAEAG,EAAA,CAA2B,aAAA,CAE3B,EAEOK,EAAAF,EAAA;AAAA,IAA0BG,GAAAA,EAAAA,MAAAA,MAAAA,oBAAAA;AAAAA,WACYC,GAAAA,EAAA,MAAA,OAAA,UAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}