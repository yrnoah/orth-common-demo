{"version":3,"file":"TextFrameSingleLine-8b77c2bd.js","sources":["../../../paas-library/src/Textfield/TextFrameSingleLine.tsx"],"sourcesContent":["import { type ComponentPropsWithRef, forwardRef, useRef } from \"react\";\nimport { ErrorTip } from \"./ErrorTip\";\nimport { FieldLabel } from \"./Label\";\nimport styled from \"styled-components\";\nimport {\n  textfieldFrameInputStyle,\n  type TextfieldFrameInputStyleProps,\n} from \"./styles\";\n\ninterface TextFrameSingleLineProps extends ComponentPropsWithRef<\"input\"> {\n  /** @description control input error style & display under input element */\n  errorMessage?: string;\n  /**\n   * @default true\n   * @description error tip block default owns 16px height; when set hasError to false, remove error tip block no matter if error message exists.\n   */\n  hasError?: boolean;\n  /**\n   * @default false\n   * @description will trigger input.select() when true\n   */\n  autoSelect?: boolean;\n  /** @description label text */\n  label?: string;\n  /** @description override FieldLabel props */\n  labelProps?: ComponentPropsWithRef<\"label\">;\n  /** @description override ErrorTip props */\n  errorProps?: ComponentPropsWithRef<typeof ErrorTip>;\n  /**\n   * @default baseColor.Volcano5 `#EE8152`\n   * @description override error color for border & icon\n   */\n  $errorColor?: React.CSSProperties[\"color\"];\n}\n\n/** @design TextFrame/NoLabel https://www.figma.com/design/JGFHYME2p7RpeMYcoMqooS/ODE-Library-1.0?node-id=12296-6101 */\n/** @design TextFrame/SingleLine https://www.figma.com/design/JGFHYME2p7RpeMYcoMqooS/ODE-Library-1.0?node-id=7870-18042&t=zbZGBrco5ra09mre-4 */\nexport const TextFrameSingleLine = forwardRef<\n  HTMLInputElement,\n  TextFrameSingleLineProps\n>((props, ref) => {\n  const _inputRef = useRef<HTMLInputElement | null>(null);\n  const {\n    hasError = true,\n    autoSelect = false,\n    errorMessage,\n    label = \"\",\n    labelProps,\n    errorProps,\n    $errorColor,\n    ...inputParams\n  } = props;\n  /** @description sync width to label & error if exists inside input style */\n  const width = props.style?.width;\n  const minWidth = props.style?.minWidth;\n  const maxWidth = props.style?.maxWidth;\n  return (\n    <>\n      {!!label && (\n        <FieldLabel\n          {...labelProps}\n          text={label}\n          style={{\n            ...labelDefaultStyles,\n            width,\n            minWidth,\n            maxWidth,\n            ...labelProps?.style,\n          }}\n          $required={inputParams.required}\n        />\n      )}\n      <Input\n        /** @description clear auto complete */\n        autoComplete=\"new-password\"\n        /** @description fix FF & Safari cannot accept decimal and float numbers */\n        step={inputParams.type === \"number\" ? \"any\" : inputParams.step}\n        {...inputParams}\n        style={{ ...inputDefaultStyles, ...inputParams?.style }}\n        $error={!!errorMessage}\n        $errorColor={$errorColor}\n        onFocus={(e) => {\n          if (props.onFocus) props.onFocus(e);\n          if (autoSelect && _inputRef.current) _inputRef.current.select();\n        }}\n        ref={(element) => {\n          _inputRef.current = element;\n          if (!ref) return;\n          if (typeof ref === \"function\") {\n            ref(element);\n            return;\n          }\n          if (\"current\" in ref) ref.current = element;\n        }}\n      />\n      {hasError && (\n        <ErrorTip\n          {...errorProps}\n          style={{ width, minWidth, maxWidth, ...errorProps?.style }}\n          message={props.disabled ? undefined : errorMessage}\n          $errorColor={$errorColor}\n        />\n      )}\n    </>\n  );\n});\n\nexport const Input = styled.input<TextfieldFrameInputStyleProps>`\n  height: 44px;\n  ${textfieldFrameInputStyle}\n  transition: border-color 0.2s ease, color 0.2s ease;\n`;\n\nconst labelDefaultStyles = {\n  display: \"block\",\n  marginBottom: 4,\n} satisfies React.CSSProperties;\n\nconst inputDefaultStyles = {\n  marginBottom: 4,\n} satisfies React.CSSProperties;\n"],"names":["TextFrameSingleLine","forwardRef","props","ref","_inputRef","useRef","hasError","autoSelect","errorMessage","label","labelProps","errorProps","$errorColor","inputParams","width","_a","minWidth","_b","maxWidth","_c","jsxs","Fragment","jsx","FieldLabel","labelDefaultStyles","Input","inputDefaultStyles","e","element","ErrorTip","styled","textfieldFrameInputStyle"],"mappings":"2RAqCO,MAAAA,EAAAC,EAAA,WAAA,CAAAC,EAAAC,IAAA,WAIL,MAAAC,EAAAC,SAAA,IAAA,EACA,CAAM,SAAAC,EAAA,GACO,WAAAC,EAAA,GACE,aAAAC,EACb,MAAAC,EAAA,GACQ,WAAAC,EACR,WAAAC,EACA,YAAAC,EACA,GAAAC,CACG,EAAAX,EAGLY,GAAAC,EAAAb,EAAA,QAAA,YAAAa,EAAA,MACAC,GAAAC,EAAAf,EAAA,QAAA,YAAAe,EAAA,SACAC,GAAAC,EAAAjB,EAAA,QAAA,YAAAiB,EAAA,SACA,OAAAC,EAAAC,EAAA,CAAA,SAAA,CAEK,CAAA,CAAAZ,GAAAa,EACCC,EAAC,CAAA,GAAAb,EACK,KAAAD,EACE,MAAA,CACC,GAAAe,EACF,MAAAV,EACH,SAAAE,EACA,SAAAE,EACA,GAAAR,GAAA,YAAAA,EAAA,KACe,EACjB,UAAAG,EAAA,QACuB,CAAA,EACzBS,EAEFG,EAAC,CAAA,aAAA,eAEc,KAAAZ,EAAA,OAAA,SAAA,MAAAA,EAAA,KAE6C,GAAAA,EACtD,MAAA,CAAA,GAAAa,EAAA,GAAAb,GAAA,YAAAA,EAAA,KAAA,EACkD,OAAA,CAAA,CAAAL,EAC5C,YAAAI,EACV,QAAAe,GAAA,CAEEzB,EAAA,SAAmBA,EAAA,QAAAyB,CAAA,EACnBpB,GAAAH,EAAA,SAAqCA,EAAA,QAAA,QAAyB,EAChE,IAAAwB,GAAA,CAGE,GADAxB,EAAA,QAAAwB,EACA,EAAAzB,EACA,IAAA,OAAAA,GAAA,WAAA,CACEA,EAAAyB,CAAA,EACA,OAEF,YAAAzB,IAAsBA,EAAA,QAAAyB,GAAc,CACtC,CAAA,EACFtB,GAAAgB,EAEEO,EAAC,CAAA,GAAAlB,EACK,MAAA,CAAA,MAAAG,EAAA,SAAAE,EAAA,SAAAE,EAAA,GAAAP,GAAA,YAAAA,EAAA,KAAA,EACqD,QAAAT,EAAA,SAAA,OAAAM,EACnB,YAAAI,CACtC,CAAA,CACF,CAAA,CAAA,CAIR,CAAA,EAEOa,EAAAK,EAAA;AAAA;AAAA,IAAqBC;AAAA;AAAA,EAM5BP,EAAA,CAA2B,QAAA,QAChB,aAAA,CAEX,EAEAE,EAAA,CAA2B,aAAA,CAE3B"}