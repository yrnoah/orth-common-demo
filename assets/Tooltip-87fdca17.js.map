{"version":3,"file":"Tooltip-87fdca17.js","sources":["../../../paas-library/src/Tooltip/styles.ts","../../../paas-library/src/Tooltip/Tooltip.tsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport interface Position {\n  top?: number;\n  bottom?: number;\n  left?: number;\n  right?: number;\n  transform?: string;\n}\n\n// FIXME: sync max-width standard with design team\n// FIXME: move factory logic to component logic\nexport const TipWrapper = styled.div<{ $opacity: number }>`\n  position: fixed;\n  ${(props) => props.theme.flexCSS.row}\n  ${(props) => props.theme.flexCSS.center}\n  color: white;\n  background-color: ${(props) => props.theme.colors.Neutral_400};\n  ${(props) => props.theme.fonts[\"Body-Medium/Regular\"]}\n  padding: 12px 20px;\n  border-radius: 4px;\n  max-width: 300px;\n  word-break: break-all;\n  opacity: ${(props) => props.$opacity};\n  transition: opacity 150ms linear;\n\n  /* default z-index */\n  z-index: ${(p) => p.theme.zIndexes.navbar + 1};\n`;\n","import React, { HTMLAttributes, ReactElement, useRef, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport * as S from \"./styles\";\n\ninterface ITooltips {\n  text: React.ReactNode;\n  position?: \"top\" | \"bottom\" | \"left\" | \"right\";\n  align?: \"start\" | \"center\" | \"end\";\n  gap?: number;\n  delay?: number;\n  children: JSX.Element;\n}\n/**\n * Renders a tooltip component with customizable position, alignment, delay, and content.\n * @warning children element has to be referenced in order to render the tooltip\n * @param {ITooltips} tips - Object containing the tips to be displayed in the tooltip\n * @return {ReactElement} The tooltip component with the specified properties\n * @deprecated use TooltipWrapper instead\n * @example // Render a tooltip with the text \"Hello, world!\" positioned at the top of its anchor with a 10 pixel gap\n<Tooltip tips=\"Hello, world!\" position=\"top\" gap={10}>\n  <span>Hover me!</span>\n</Tooltip>\n */\nexport function Tooltip({\n  text: tips,\n  gap = 10,\n  position = \"top\",\n  align = \"center\",\n  delay = 150,\n  children: child,\n  style,\n  ...props\n}: ITooltips & Omit<HTMLAttributes<HTMLDivElement>, \"children\">): ReactElement {\n  const [show, setShow] = useState(false);\n  const [opacity, setOpacity] = useState(0);\n  const [anchor, setAnchor] = useState<S.Position>();\n  const refs = useRef<Element>();\n  const onSetPosition = () => {\n    const element = refs.current;\n    if (element) {\n      const rect = element.getBoundingClientRect();\n      const anchor = convertAnchor(rect, position, align, gap);\n      setAnchor(anchor);\n    }\n  };\n  if (!tips || !child) return child;\n  return (\n    <>\n      {React.cloneElement(child, {\n        ref: (element: Element) => {\n          // function\n          if (\"ref\" in child && typeof child.ref === \"function\") {\n            child.ref(element);\n          }\n          // useRef\n          if (\"ref\" in child && typeof child.ref === \"object\" && child.ref) {\n            if (\"current\" in child.ref) child.ref.current = element;\n          }\n          refs.current = element;\n        },\n        onMouseEnter: (e: MouseEvent) => {\n          if (child.props.onMouseEnter) child.props.onMouseEnter(e);\n          onSetPosition();\n          setShow(true);\n          setTimeout(() => setOpacity(1), 10);\n        },\n        onMouseLeave: (e: MouseEvent) => {\n          if (child.props.onMouseLeave) child.props.onMouseLeave(e);\n          setOpacity(0);\n          setShow &&\n            setTimeout(() => {\n              setAnchor(undefined);\n              setShow(false);\n            }, delay);\n        },\n      })}\n      {show &&\n        createPortal(\n          <S.TipWrapper\n            style={{\n              ...style,\n              ...anchor,\n            }}\n            $opacity={opacity}\n            {...props}\n          >\n            {tips}\n          </S.TipWrapper>,\n          document.body\n        )}\n    </>\n  );\n}\n\nfunction convertAnchor(\n  rect: DOMRect,\n  position: \"top\" | \"bottom\" | \"left\" | \"right\",\n  align: \"start\" | \"center\" | \"end\",\n  gap: number\n): S.Position {\n  const vw = window.innerWidth ?? document.body.clientWidth;\n  const vh = window.innerHeight ?? document.body.clientHeight;\n  switch (position) {\n    case \"top\":\n      switch (align) {\n        case \"start\":\n          return { left: rect.x, bottom: clamp(vh)(vh - rect.y + gap) };\n        case \"center\":\n          return {\n            left: clamp(vw)(rect.x + rect.width / 2),\n            transform: \"translateX(-50%)\",\n            bottom: clamp(vh)(vh - rect.y + gap),\n          };\n        case \"end\":\n          return {\n            right: clamp(vw)(vw - rect.x - rect.width),\n            bottom: clamp(vh)(vh - rect.y + gap),\n          };\n        default:\n          return {};\n      }\n    case \"bottom\":\n      switch (align) {\n        case \"start\":\n          return { left: rect.x, top: clamp(vh)(rect.y + rect.height + gap) };\n        case \"center\":\n          return {\n            left: clamp(vw)(rect.x + rect.width / 2),\n            transform: \"translateX(-50%)\",\n            top: clamp(vh)(rect.y + rect.height + gap),\n          };\n        case \"end\":\n          return {\n            right: clamp(vw)(vw - rect.x - rect.width),\n            top: clamp(vh)(rect.y + rect.height + gap),\n          };\n        default:\n          return {};\n      }\n    case \"left\":\n      switch (align) {\n        case \"start\":\n          return {\n            right: clamp(vw)(vw - rect.x + gap),\n            top: rect.y,\n          };\n        case \"center\":\n          return {\n            right: clamp(vw)(vw - rect.x + gap),\n            transform: \"translateY(-50%)\",\n            top: clamp(vh)(rect.y + rect.height / 2),\n          };\n        case \"end\":\n          return {\n            right: clamp(vw)(vw - rect.x + gap),\n            bottom: clamp(vh)(vh - rect.y - rect.height),\n          };\n        default:\n          return {};\n      }\n    case \"right\":\n      switch (align) {\n        case \"start\":\n          return {\n            left: clamp(vw)(rect.x + rect.width + gap),\n            top: rect.y,\n          };\n        case \"center\":\n          return {\n            left: clamp(vw)(rect.x + rect.width + gap),\n            transform: \"translateY(-50%)\",\n            top: clamp(vh)(rect.y + rect.height / 2),\n          };\n        case \"end\":\n          return {\n            left: clamp(vw)(rect.x + rect.width + gap),\n            bottom: clamp(vh)(vh - rect.y - rect.height),\n          };\n        default:\n          return {\n            left: clamp(vw)(rect.x + rect.width + gap),\n            top: rect.y,\n          };\n      }\n  }\n}\n/**\n * Returns a function that clamps a number between 0 and the given maximum value.\n * @currying clamp(LargestNumber)(numberToBeClamped)\n * @param {number} max - The maximum value that the returned function will clamp values to.\n * @param {number} n - The number to be clamped\n * @return {number}\n */\nconst clamp = (max: number) => (n: number) => Math.min(max, Math.max(0, n));\n"],"names":["TipWrapper","styled","div","props","theme","flexCSS","row","center","colors","Neutral_400","fonts","$opacity","p","zIndexes","navbar","Tooltip","tips","position","align","delay","child","style","show","setShow","useState","opacity","setOpacity","anchor","setAnchor","refs","useRef","onSetPosition","element","rect","anchor2","convertAnchor","gap","jsxs","Fragment","React","e","setTimeout","createPortal","jsx","S.TipWrapper","vw","vh","x","clamp","y","max","n"],"mappings":"qMAYO,MAAMA,EAAaC,EAAOC;AAAAA;AAAAA,IAE5BC,GAAUA,EAAMC,MAAMC,QAAQC;AAAAA,IAC9BH,GAAUA,EAAMC,MAAMC,QAAQE;AAAAA;AAAAA,sBAEZJ,GAAUA,EAAMC,MAAMI,OAAOC;AAAAA,IACrCN,GAAAA,EAAMC,MAAMM,MAAM,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAK9BP,EAAMQ;AAAAA;AAAAA;AAAAA;AAAAA,aAIVC,GAAAA,EAAER,MAAMS,SAASC,OAAS;AAAA,ECJvC,SAAAC,EAAA,CAAiB,KAAAC,EAChBA,IAAAA,EAAAA,GACA,SAAAC,EAAA,MACK,MAAAC,EAAA,SACH,MAAAC,EAAA,IACA,SAAAC,EACEA,MAAAA,EACVC,GAAAA,CAE4D,EAAA,CAC5D,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAA,CAAA,EACA,CAAAG,EAAAC,CAAA,EAAAJ,EAAA,SAAA,EACAK,EAAAC,EAAAA,SACAC,EAAA,IAAA,CACE,MAAAC,EAAAH,EAAA,QACA,GAAAG,EAAA,CACE,MAAAC,EAAAD,EAAA,wBACAE,EAAAC,EAAAF,EAAAhB,EAAAC,EAAAkB,CAAA,EACAR,EAAAA,CAAAA,EACF,EAEF,MAAA,CAAAZ,GAAA,CAAAI,EAAqBA,EACrBiB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAEKC,EAAAA,aAAAA,EAAAA,CAA0B,IAAAP,GAAA,CAGvB,QAAAZ,GAAA,OAAAA,EAAA,KAAA,YACEA,EAAAA,IAAAA,CAAAA,EAGF,QAAAA,GAAA,OAAAA,EAAA,KAAA,UAAAA,EAAA,KACE,YAAAA,EAAA,MAA4BA,EAAAA,IAAAA,QAAAA,GAE9BS,EAAAA,QAAAA,CAAeG,EACjB,aAAAQ,GAAA,CAEEpB,EAAA,MAAA,cAA8BA,EAAAA,MAAAA,aAAAA,CAAAA,EAC9BW,IACAR,EAAAA,EAAAA,EACAkB,WAAAA,IAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAkC,EACpC,aAAAD,GAAA,CAEEpB,EAAA,MAAA,cAA8BA,EAAAA,MAAAA,aAAAA,CAAAA,EAC9BM,EAAAA,CAAAA,EACAH,GAAAA,WAAAA,IAAAA,CAEIK,EAAAA,MAAAA,EACAL,EAAAA,EAAAA,CAAa,EAAAJ,CAAA,CACP,CACZ,CAAA,EACDG,GAAAoB,EAAAA,aAAAC,EAAAA,IAAAC,EAAA,CAAA,MAAA,CAIY,GAAAvB,EACFA,GAAAA,CACAM,EAAAA,SAAAA,EAAAA,GAAAA,EAAAA,SAAAA,CAAAA,CAAAA,EAAAA,SAAAA,IAAAA,CAQT,CAAA,CAAA,CAGR,CAEA,SAAAQ,EAAAF,EAAAhB,EAAAC,EAAAkB,EAAA,CAME,MAAAS,EAAA,OAAA,YAAA,SAAA,KAAA,YACAC,EAAA,OAAA,aAAA,SAAA,KAAA,aACA,OAAA7B,EAAA,CAAgB,IAAA,MAEZ,OAAAC,EAAA,CAAa,IAAA,QAET,MAAA,CAAO,KAAAe,EAAA,EAAac,OAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,CAAsC,EAAE,IAAA,SAE5D,MAAA,CAAO,KAAAC,EAAAH,CAAA,EAAAZ,EAAA,EAAAA,EAAA,MAAA,CAAA,EACkC,UAAA,mBAC5B,OAAAe,EAAAF,CAAA,EAAAA,EAAAb,EAAA,EAAAG,CAAA,CACwB,EACrC,IAAA,MAEA,MAAA,CAAO,MAAAY,EAAAH,CAAA,EAAAA,EAAAZ,EAAA,EAAAA,EAAA,KAAA,EACoC,OAAAe,EAAAF,CAAA,EAAAA,EAAAb,EAAA,EAAAG,CAAA,CACN,EACrC,QAEA,MAAA,EAAQ,CACZ,IAAA,SAEA,OAAAlB,EAAA,CAAa,IAAA,QAET,MAAA,CAAO,KAAAe,EAAA,EAAac,IAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,CAAAA,CAA4C,EAAE,IAAA,SAElE,MAAA,CAAO,KAAAC,EAAAH,CAAA,EAAAZ,EAAA,EAAAA,EAAA,MAAA,CAAA,EACkC,UAAA,mBAC5B,IAAAe,EAAAF,CAAA,EAAAb,EAAA,EAAAA,EAAA,OAAAG,CAAA,CAC8B,EAC3C,IAAA,MAEA,MAAA,CAAO,MAAAY,EAAAH,CAAA,EAAAA,EAAAZ,EAAA,EAAAA,EAAA,KAAA,EACoC,IAAAe,EAAAF,CAAA,EAAAb,EAAA,EAAAA,EAAA,OAAAG,CAAA,CACA,EAC3C,QAEA,MAAA,EAAQ,CACZ,IAAA,OAEA,OAAAlB,EAAA,CAAa,IAAA,QAET,MAAA,CAAO,MAAA8B,EAAAH,CAAA,EAAAA,EAAAZ,EAAA,EAAAG,CAAA,EAC6B,IAAAH,EAAA,CACxBgB,EACZ,IAAA,SAEA,MAAA,CAAO,MAAAD,EAAAH,CAAA,EAAAA,EAAAZ,EAAA,EAAAG,CAAA,EAC6B,UAAA,mBACvB,IAAAY,EAAAF,CAAA,EAAAb,EAAA,EAAAA,EAAA,OAAA,CAAA,CAC4B,EACzC,IAAA,MAEA,MAAA,CAAO,MAAAe,EAAAH,CAAA,EAAAA,EAAAZ,EAAA,EAAAG,CAAA,EAC6B,OAAAY,EAAAF,CAAA,EAAAA,EAAAb,EAAA,EAAAA,EAAA,MAAA,CACS,EAC7C,QAEA,MAAA,EAAQ,CACZ,IAAA,QAEA,OAAAf,EAAA,CAAa,IAAA,QAET,MAAA,CAAO,KAAA8B,EAAAH,CAAA,EAAAZ,EAAA,EAAAA,EAAA,MAAAG,CAAA,EACoC,IAAAH,EAAA,CAC/BgB,EACZ,IAAA,SAEA,MAAA,CAAO,KAAAD,EAAAH,CAAA,EAAAZ,EAAA,EAAAA,EAAA,MAAAG,CAAA,EACoC,UAAA,mBAC9B,IAAAY,EAAAF,CAAA,EAAAb,EAAA,EAAAA,EAAA,OAAA,CAAA,CAC4B,EACzC,IAAA,MAEA,MAAA,CAAO,KAAAe,EAAAH,CAAA,EAAAZ,EAAA,EAAAA,EAAA,MAAAG,CAAA,EACoC,OAAAY,EAAAF,CAAA,EAAAA,EAAAb,EAAA,EAAAA,EAAA,MAAA,CACE,EAC7C,QAEA,MAAA,CAAO,KAAAe,EAAAH,CAAA,EAAAZ,EAAA,EAAAA,EAAA,MAAAG,CAAA,EACoC,IAAAH,EAAA,CAC/BgB,CACZ,CACJ,CAEN,CAQA,MAAAD,EAAAE,GAAAC,GAAA,KAAA,IAAAD,EAAA,KAAA,IAAA,EAAAC,CAAA,CAAA"}